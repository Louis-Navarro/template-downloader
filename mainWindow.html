<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Template Downloader</title>

    <script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="js/FileSaver.min.js"></script>
    <script type="text/javascript" src="js/jszip.min.js"></script>
    <script type="text/javascript" src="js/API.js"></script>
</head>

<body>
    <h1>Template Downloader</h1>
    <form>
        <input type="text" id="folderName" />
        <button id="selectFolder">Browse</button>
        <button type="submit" onclick="handleSubmit(this.id);" id="python">Python</button>
        <button type="submit" onclick="handleSubmit(this.id);" id="python-ai">Python AI</button>
    </form>

    <script type="text/javascript">
        const electron = require('electron');
        const { ipcRenderer } = electron;

        document.querySelector('#selectFolder').addEventListener('click', () => {
            ipcRenderer.send("select:folder");
        })

        const input = document.querySelector('#folderName');
        ipcRenderer.on('input:folder', (e, path) => {
            if (path !== undefined) {
                input.value = path;
            }
        })

        const form = document.querySelector('form');
        form.addEventListener('submit', (e) => {
            e.preventDefault();
        });

        function handleSubmit(id) {
            GitZip.zipRepo('https://github.com/Louis-Navarro/repository-templates/tree/master/' + id)
            // GitZip.zipRepo('https://github.com/KinoLien/gitzip/tree/master/js')
        }
    </script>